<!--
  Generated template for the ViajesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Viajes</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div padding-vertical>
    <ion-segment [(ngModel)]="carreras" color="dark">
      <ion-segment-button value="ofertas">
        Ofertas
      </ion-segment-button>
      <ion-segment-button value="solicitudes">
        Solicitudes
      </ion-segment-button>
    </ion-segment>
  </div>

  <div [ngSwitch] = "carreras">
    <div  id='OfertasEncontradas' *ngSwitchCase="'ofertas'">
      <ion-card *ngFor = "let oferta of oferList; let i=index">
        <ion-item>
          <h2>Conductor : {{toTitleCase(oferta.driver_fname)}} {{toTitleCase(oferta.driver_lname)}}</h2>
          <p>Origen : {{toTitleCase(oferta.origen)}}</p>
          <p>Destino : {{toTitleCase(oferta.destino)}}</p>
        </ion-item>
        <img src="assets/imgs/ofertas.jpg">
        <ion-row>
        <ion-row>
          <ion-col>
            <button ion-button icon-left clear small>
              <ion-icon name="calendar"></ion-icon>
              <div>Fecha de Salida:</div>
            </button>
          </ion-col>
          <ion-col>
              <button ion-button icon-left clear small>
                {{spliceDeliveryDate(oferta.fecha_hora)}}
              </button>
          </ion-col>
        </ion-row>
        <ion-col>
          <button ion-button icon-left clear small>
            <ion-icon name="cash"></ion-icon>
            <div>$ {{oferta.precio_unitario}}</div>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button icon-left clear small>
            <ion-icon name="md-people"></ion-icon>
            <div> Asientos Libres: {{oferta.puestos}}</div>
          </button>
        </ion-col>
      </ion-row>
      </ion-card>
    </div>

    <div id='SolicitudesEncontradas' *ngSwitchCase = "'solicitudes'">
        <ion-card *ngFor = "let solicitud of solList; let j=index">
            <ion-item>
              <p>Origen : {{toTitleCase(solicitud.origen)}}</p>
              <p>Destino : {{toTitleCase(solicitud.destino)}}</p>
            </ion-item>
            <img src="assets/imgs/solicitudes.jpg">
            <ion-row>
            <ion-row>
              <ion-col>
                <button ion-button icon-left clear small>
                  <ion-icon name="calendar"></ion-icon>
                  <div>Fecha:</div>
                </button>
              </ion-col>
              <ion-col>
                  <button ion-button icon-left clear small>
                    {{spliceDeliveryDate(solicitud.fecha_hora)}}
                  </button>
              </ion-col>
            </ion-row>
            <ion-col>
              <button ion-button icon-left clear small>
                <ion-icon name="cash"></ion-icon>
                <div>$ {{solicitud.precio_unitario}}</div>
              </button>
            </ion-col>
            <ion-col>
              <button ion-button icon-left clear small>
                <ion-icon name="md-people"></ion-icon>
                <div>Asientos a pedir: {{solicitud.puestos}}</div>
              </button>
            </ion-col>
            <ion-col>
              <button ion-button icon-left clear small (click) ="aceptarViaje(j)">
                <ion-icon name="send"></ion-icon>
                <div>Aceptar Viaje</div>
              </button>
            </ion-col>
          </ion-row>
          </ion-card>
    </div>
  </div>

</ion-content>

<ion-fab bottom right>
  <button ion-fab color="secondary" float-right>  <ion-icon name="list" color="light" style="font-size:30px"></ion-icon> </button>
  <ion-fab-list side="top">
    <button ion-fab (click)="openAddProductPage()"><ion-icon name="md-add"></ion-icon></button>
    <button ion-fab (click)="openCartPage()"><ion-icon name="md-cart"></ion-icon></button>
    <button ion-fab (click)="openTripPage()"><ion-icon name="car"></ion-icon></button>
    <button ion-fab (click)="openInformationPage()"><ion-icon name="information"></ion-icon></button>
  </ion-fab-list>